/* file: css/view-lab.css */
/* 1. VARIABLES & RESET (same palette as profile) */
:root {
    --dlsu-green: #0d5f28; 
    --dlsu-gold: #c69214;
    --white: #ffffff;
    --dark: #333333;
    
    /* NEW: A light green background tint */
    --bg-green-tint: #e9f5ec; 
}

body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    
    /* CHANGE THIS LINE: */
    background-color: var(--bg-green-tint); /* Sets page background to Light Green */
    
    color: #495057;
    line-height: 1.6;
}
/* =========================================
   1. LAYOUT & GRID
   ========================================= */
.view-lab-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 20px;
    display: grid;
    grid-template-columns: 320px 1fr; /* Sidebar fixed, Map fills rest */
    gap: 40px;
    align-items: start;
}

/* =========================================
   2. SIDEBAR CONTROLS
   ========================================= */
.control-card {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px solid #e9ecef;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
}

.card-label {
    display: block;
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--dlsu-green, #0d5f28);
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.form-group { margin-bottom: 20px; }

/* Input & Dropdown Styling */
.main-dropdown, .input-group {
    width: 100%;
    border-radius: 6px;
    border: 1px solid #ced4da;
    background: white;
    font-size: 0.95rem;
    color: #495057;
}

.main-dropdown { padding: 10px; cursor: pointer; }
.main-dropdown:focus { border-color: var(--dlsu-green, #0d5f28); outline: none; }

.input-group {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    margin-bottom: 10px;
}
.input-group i { color: var(--dlsu-green, #0d5f28); }
.input-group input, .input-group select {
    border: none;
    width: 100%;
    outline: none;
    font-size: 0.9rem;
    color: #495057;
    background: transparent;
}

/* Lab Info Text */
.divider { margin: 15px 0; border: 0; border-top: 1px solid #e9ecef; }
.lab-info .info-row { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 12px; }
.lab-info i { font-size: 1.1rem; color: var(--dlsu-green, #0d5f28); margin-top: 2px; }
.lab-info div { display: flex; flex-direction: column; }
.lab-info strong { font-size: 0.7rem; color: #6c757d; letter-spacing: 0.5px; }
.lab-info span { font-size: 0.9rem; color: #212529; font-weight: 600; }

/* =========================================
   3. BOOKING ACTION CARD
   ========================================= */
.highlight-card {
    background: #e9f5ec;
    border-color: #d1e7dd;
}

.seat-badge {
    background: #adb5bd;
    color: white;
    padding: 10px;
    border-radius: 6px;
    text-align: center;
    font-weight: bold;
    margin-bottom: 15px;
    transition: 0.3s;
}
.seat-badge.active { background: var(--dlsu-green, #0d5f28); }

.checkbox-group {
    display: flex; align-items: center; gap: 8px;
    margin-bottom: 20px; font-size: 0.85rem; color: #495057;
}

.btn-reserve {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 6px;
    background: var(--dlsu-green, #0d5f28);
    color: white;
    font-weight: bold;
    cursor: pointer;
    font-size: 1rem;
    transition: 0.2s;
    box-shadow: 0 4px 6px rgba(13, 95, 40, 0.2);
}
.btn-reserve:disabled { background: #adb5bd; cursor: not-allowed; box-shadow: none; }
.btn-reserve:not(:disabled):hover { background: #0a471e; transform: translateY(-2px); }

/* =========================================
   4. MAP AREA & GRID
   ========================================= */
.map-area {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 30px;
    min-height: 550px;
    display: flex; flex-direction: column;
    position: relative;
    box-shadow: 0 4px 15px rgba(0,0,0,0.03);
}

.map-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 30px; border-bottom: 2px solid #f8f9fa; padding-bottom: 15px;
}
.map-header h2 { margin: 0; font-size: 1.5rem; color: #333; }

/* Legend */
.legend { display: flex; gap: 20px; }
.legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: #666; }
.box { width: 18px; height: 18px; border-radius: 4px; display: block; }
.box.available { border: 1px solid #ced4da; background: white; }
.box.occupied { background: #ced4da; border: 1px solid #adb5bd; }
.box.selected { background: var(--dlsu-green, #0d5f28); border: 1px solid #0a471e; }

/* Empty State */
.map-placeholder {
    flex-grow: 1;
    display: flex; align-items: center; justify-content: center;
    text-align: center;
    border: 2px dashed #e9ecef; border-radius: 8px;
    background-color: #fcfcfc;
}
.placeholder-content i { font-size: 4rem; color: #e9ecef; margin-bottom: 20px; }
.placeholder-content h3 { color: #495057; margin-bottom: 5px; font-size: 1.2rem; }
.placeholder-content p { color: #868e96; font-size: 0.9rem; }

/* Seat Grid */
.map-wrapper {
    flex-grow: 1;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}

/* UPDATED SEAT GRID */
.seat-grid {
    display: grid;
    /* 1st column is 30px (Label), next 5 are flexible (Seats) */
    grid-template-columns: 30px repeat(5, 1fr); 
    gap: 15px;
    margin-bottom: 40px;
    align-items: center;     /* Center content vertically */
    justify-items: center;   /* Center content horizontally */
}

/* NEW: Grid Labels (A, B, 1, 2...) */
.grid-label {
    font-weight: 700;
    color: #adb5bd;          /* Light gray text */
    font-size: 0.9rem;
    width: 100%;
    text-align: center;
}

/* Keep Seat Styles, but maybe remove fixed width to let Grid handle it, 
   OR keep fixed width and grid will just center it. 
   Keeping fixed width is safer for visuals. */
.seat {
    width: 50px; height: 40px;
    border: 1px solid #ced4da;
    border-radius: 4px;
    background: white;
    cursor: pointer;
    transition: 0.2s;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.8rem; color: transparent; /* Text hidden inside seat */
}
.seat:hover { transform: scale(1.1); border-color: var(--dlsu-green, #0d5f28); }
.seat.occupied { background: #e9ecef; cursor: not-allowed; border-color: #dee2e6; }
.seat.selected { background: var(--dlsu-green, #0d5f28); border-color: #0a471e; }
.seat.user-owned { background: #e9ecef; border-color: #dee2e6; } /* ikaw */

.front-room-indicator {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    padding: 8px 40px;
    border-radius: 20px;
    font-size: 0.75rem; font-weight: bold; color: #adb5bd; letter-spacing: 1px;
}

/* =========================================
   5. MODAL SYSTEM
   ========================================= */
.success-content { text-align: center; padding: 30px; }
.success-icon { font-size: 4rem; color: var(--dlsu-green, #0d5f28); margin-bottom: 15px; }
.qr-image { width: 150px; height: 150px; margin: 20px auto; border: 1px solid #ddd; padding: 5px; display: block; }
.btn-primary-full { width: 100%; padding: 10px; background: var(--dlsu-green, #0d5f28); color: white; border: none; border-radius: 5px; cursor: pointer; }

/* =========================================
   6. RESPONSIVE
   ========================================= */
@media (max-width: 900px) {
    .view-lab-container { grid-template-columns: 1fr; }
    .map-area { min-height: 400px; }
    .seat-grid { gap: 10px; } /* Tighter gap on mobile */
}

/* Update .seat.occupied to show it's clickable */
.seat.occupied { 
    background: #e9ecef; 
    border-color: #dee2e6;
    /* If it's anonymous, keep default cursor, else pointer */
    cursor: default; 
}

/* Specific style if you want to highlight clickable profiles */
.seat.occupied:hover {
    border-color: #adb5bd;
}

/* TOOLTIP STYLES :P */
.seat { position: relative; }

.seat .tooltip-text {
    visibility: hidden;
    width: 140px;
    background-color: #2d3436;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px;
    position: absolute;
    z-index: 100;
    bottom: 110%;
    left: 50%;
    margin-left: -70px;
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.75rem;
    pointer-events: auto;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.seat .tooltip-text small {
    display: block;
    color: #aaa;
    margin-top: 4px;
    font-size: 0.65rem;
}

.seat .tooltip-text::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #2d3436 transparent transparent transparent;
}

.seat:hover .tooltip-text,
.seat .tooltip-text:hover {
    visibility: visible;
    opacity: 1;
}

.seat .tooltip-user-link {
    color: #fff;
    font-weight: 700;
    text-decoration: underline;
}

.seat .tooltip-user-link:hover {
    color: #ffe8e8;
}

/* Color variations */
.seat.occupied .tooltip-text { background-color: #c0392b; } /* Red for occupied */
.seat.occupied .tooltip-text::after { border-color: #c0392b transparent transparent transparent; }

.seat.user-owned .tooltip-text { background-color: #f1c40f; color: #333; } /* Gold for mine */
.seat.user-owned .tooltip-text::after { border-color: #f1c40f transparent transparent transparent; }

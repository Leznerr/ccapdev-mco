/* file: css/view-lab.css */

:root {
    --primary: #387C44; --primary-hover: #2d6336; --accent: #4CD137;
    --dark: #2d3436; --gray-bg: #f4f7f6; --gray-light: #e9ecef;
    --card-bg: #ffffff; --shadow-soft: 0 8px 24px rgba(0,0,0,0.04);
}

body { background: var(--gray-bg); color: var(--dark); font-family: 'Segoe UI', sans-serif; margin: 0; }

/* --- 1. LAYOUT & FLEX UTILITIES --- */
.view-lab-container { max-width: 1300px; margin: 40px auto; padding: 0 20px; display: grid; grid-template-columns: 360px 1fr; gap: 30px; align-items: start; }
.sidebar-column, .main-column, .confirm-content, .booking-actions, .seat-map-wrapper, .empty-state { display: flex; flex-direction: column; gap: 20px; }
.seat-map-wrapper { align-items: center; }

.card-header, .map-header, .header-left, .detail-item, .checkbox-wrapper, .legend, .legend-item, .input-wrapper, .seat, .time-slot-label, .pulse-ring, .success-animation { display: flex; align-items: center; }
.seat, .time-slot-label, .pulse-ring, .success-animation { justify-content: center; }

/* --- 2. CARDS & MODALS --- */
.glass-card, .modal-card { background: var(--card-bg); border-radius: 16px; padding: 25px; box-shadow: var(--shadow-soft); border: 1px solid rgba(0,0,0,0.03); }
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(3px); }
.modal-card { text-align: center; padding: 40px; width: 350px; }

.card-header { gap: 12px; margin-bottom: 20px; }
.card-title, .modal-card h2 { margin: 0; font-size: 1.25rem; font-weight: 700; color: var(--dark); }
.modal-card h2 { margin-bottom: 20px; font-size: 1.5rem; }

.locked-element { opacity: 0.4; pointer-events: none; transition: 0.3s; }
.unlocked-element { opacity: 1; pointer-events: auto; }

/* --- 3. INPUTS & CHIPS --- */
.form-group { margin-bottom: 18px; }
.input-label { display: block; font-size: 0.85rem; font-weight: 600; color: #555; margin-bottom: 8px; }
.input-wrapper { position: relative; }
.input-wrapper .icon { position: absolute; left: 14px; color: var(--primary); font-size: 1rem; }

.custom-select, .custom-input { width: 100%; padding: 12px 14px 12px 40px; border: 2px solid var(--gray-light); border-radius: 10px; background: #fdfdfd; font-size: 0.95rem; color: var(--dark); transition: 0.2s; box-sizing: border-box; outline: none; appearance: none; }
.custom-select { cursor: pointer; }
.custom-select:focus, .custom-input:focus { border-color: var(--accent); background: white; box-shadow: 0 0 0 4px rgba(76,209,55,0.1); }

.lab-details { background: #f8faf9; padding: 12px 15px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9rem; border-left: 4px solid var(--primary); }
.detail-item { gap: 8px; color: #555; margin: 4px 0; }
.detail-item i { color: var(--primary); width: 16px; text-align: center; }

.chips-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; }
.time-slot-option input { display: none; }
.time-slot-label { padding: 10px 5px; border: 2px solid var(--gray-light); border-radius: 10px; background: white; font-size: 0.8rem; font-weight: 600; color: #666; cursor: pointer; transition: 0.2s; text-align: center; }
.time-slot-label:hover { border-color: var(--primary); color: var(--primary); }
.time-slot-option input:checked + .time-slot-label { background: var(--primary); border-color: var(--primary); color: white; box-shadow: 0 4px 10px rgba(56,124,68,0.3); transform: translateY(-1px); }

/* --- 4. MAP & SEATS --- */
.map-card { min-height: 400px; display: flex; flex-direction: column; }
.map-header { justify-content: space-between; border-bottom: 1px solid var(--gray-light); padding-bottom: 15px; margin-bottom: 30px; }
.header-left, .legend { gap: 12px; }
.legend-item { gap: 6px; font-size: 0.8rem; color: #777; font-weight: 500; }

.box { width: 14px; height: 14px; border-radius: 4px; display: block; border: 2px solid var(--gray-light); }
.box.available { background: white; }
.box.occupied, .seat.occupied, .seat.user-owned { background: #e2e8f0; border-color: #cbd5e1; }
.box.selected, .seat.selected { background: var(--accent); border-color: var(--accent); }

.screen-indicator { width: 60%; max-width: 300px; background: #e2e8e4; padding: 8px; border-radius: 8px 8px 0 0; margin-bottom: 40px; font-size: 0.75rem; font-weight: bold; color: #7a8f81; letter-spacing: 2px; text-transform: uppercase; text-align: center; }
.seat-grid { display: grid; grid-template-columns: 30px repeat(5, 1fr); gap: 15px; justify-items: center; }
.grid-label { font-weight: 700; color: #b0b8b4; font-size: 0.9rem; }

.seat { width: 45px; height: 45px; border-radius: 8px; background: white; border: 2px solid var(--gray-light); cursor: pointer; transition: 0.2s; position: relative; font-size: 0.8rem; font-weight: 600; color: #a0aec0; }
.seat:hover { transform: translateY(-3px) scale(1.05); border-color: var(--primary); color: var(--primary); box-shadow: 0 4px 10px rgba(0,0,0,0.1); z-index: 2; }
.seat.selected { color: white; transform: scale(1.1); box-shadow: 0 6px 15px rgba(76,209,55,0.4); z-index: 3; }
.seat.occupied, .seat.user-owned { color: #94a3b8; cursor: default; }
.seat.occupied:hover, .seat.user-owned:hover { transform: none; box-shadow: none; border-color: #94a3b8; }

/* --- 5. TOOLTIPS --- */
.seat .tooltip-text { visibility: hidden; width: max-content; min-width: 120px; background: var(--dark); color: white; border-radius: 6px; padding: 8px 12px; position: absolute; z-index: 100; bottom: 125%; left: 50%; transform: translateX(-50%); opacity: 0; transition: 0.2s; font-size: 0.75rem; pointer-events: auto; }
.seat .tooltip-text::after { content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border: 5px solid transparent; border-top-color: var(--dark); }
.seat:hover .tooltip-text { visibility: visible; opacity: 1; bottom: 135%; }
.tooltip-user-link { color: var(--accent); font-weight: 700; text-decoration: none; }
.tooltip-user-link:hover { text-decoration: underline; }
.seat.occupied .tooltip-text, .seat.occupied .tooltip-text::after { background: #d63031; border-top-color: #d63031; }
.seat.user-owned .tooltip-text, .seat.user-owned .tooltip-text::after { background: #f1c40f; color: #856404; border-top-color: #f1c40f; }

/* --- 6. CHECKBOX & BUTTONS --- */
.confirm-card { padding: 20px 25px; }
.selection-summary { text-align: center; }
.summary-label { font-size: 0.8rem; font-weight: 700; color: #888; text-transform: uppercase; }
.seat-pill { background: var(--gray-light); padding: 10px; border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #555; transition: 0.3s; margin-top: 5px; }
.seat-pill.active { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(56,124,68,0.3); }

.tech-alert { background: #fff3cd; color: #856404; padding: 8px 15px; border-radius: 6px; font-size: 0.85rem; text-align: center; }

.checkbox-wrapper { gap: 10px; position: relative; padding-left: 28px; cursor: pointer; font-size: 0.9rem; color: #555; user-select: none; }
.checkbox-wrapper input { position: absolute; opacity: 0; cursor: pointer; }
.checkmark { position: absolute; top: 0; left: 0; height: 18px; width: 18px; background: var(--gray-light); border-radius: 4px; transition: 0.2s; }
.checkbox-wrapper:hover input ~ .checkmark { background-color: #d4d8db; }
.checkbox-wrapper input:checked ~ .checkmark { background-color: var(--primary); }
.checkmark:after { content: ""; position: absolute; display: none; left: 6px; top: 2px; width: 4px; height: 9px; border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg); }
.checkbox-wrapper input:checked ~ .checkmark:after { display: block; }

.btn-primary { background: var(--primary); color: white; border: none; padding: 14px; border-radius: 10px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: 0.2s; width: 100%; }
.btn-primary:hover:not(:disabled) { background: var(--primary-hover); transform: translateY(-2px); box-shadow: 0 6px 15px rgba(56,124,68,0.3); }
.btn-primary:disabled { background: var(--gray-light); color: #999; cursor: not-allowed; }

/* --- 7. EMPTY STATE & MISC --- */
.empty-state { text-align: center; color: #999; justify-content: center; }
.empty-state h4 { color: #555; margin: 0 0 5px 0; font-size: 1.2rem; }
.pulse-ring { width: 80px; height: 80px; background: #eef2f0; border-radius: 50%; margin: 0 auto 20px; font-size: 2rem; color: var(--primary); }
.success-animation { width: 80px; height: 80px; background: #eafaf1; border-radius: 50%; margin: 0 auto 20px; font-size: 2.5rem; color: var(--primary); }

.step-badge { background: var(--primary); color: white; width: 28px; height: 28px; border-radius: 50%; justify-content: center; font-weight: bold; font-size: 0.9rem; }
.ref-container { background: var(--gray-bg); padding: 20px; border-radius: 12px; margin-bottom: 25px; border: 1px dashed #ddd; }
.ref-container p { margin: 0 0 5px 0; font-size: 0.85rem; color: #777; text-transform: uppercase; font-weight: bold; }
.ref-container h3 { margin: 0 0 10px 0; font-size: 1.8rem; color: var(--primary); font-family: monospace; letter-spacing: 1px; }
.slot-count { background: white; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; color: #555; }
.w-100 { width: 100%; }

@media (max-width: 900px) { .view-lab-container { grid-template-columns: 1fr; } }